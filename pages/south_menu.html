<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>South Indian Menu</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/venders/styles.css">

    <!-- 3D model viewer -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        /* General Styles */
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background: #f9f9f9;
        }

        .menu-carousel {
            position: relative;
            overflow: hidden;
            width: 100%;
            padding: 20px 50px;
        }

        .carousel-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
            gap: 20px;
            padding: 0 20px;
        }

        .card {
            flex: 0 0 auto;
            width: 300px;
            margin-right: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            overflow: hidden;
            background: #fff;
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            height: 400px;
        }

        .card:hover {
            transform: scale(1.05);
        }

        model-viewer {
            width: 100%;
            height: 200px;
            margin: 0 auto;
            background: transparent;
        }

        .card h3 {
            margin: 10px 0;
            font-size: 1.5rem;
            color: #333;
        }

        .card p {
            margin: 10px 0;
            flex-grow: 1;
            color: #555;
        }

        .add-btn {
            margin: 10px 0;
            padding: 10px 20px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }

        .add-btn:hover {
            background: #388E3C;
        }

        .carousel-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 10px;
            cursor: pointer;
            border-radius: 50%;
            z-index: 10;
        }

        .carousel-button.prev {
            left: 10px;
        }

        .carousel-button.next {
            right: 10px;
        }

        .pagination-dots {
            text-align: center;
            margin-top: 20px;
        }

        .dot {
            display: inline-block;
            width: 10px;
            height: 10px;
            background: #ccc;
            border-radius: 50%;
            margin: 0 5px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .dot.active {
            background: #333;
        }

        /* Special Dish Section Styling */
        .special-dish {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 40px;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            
        }

        .special-image {
            position: relative;
            width: 50%;
            z-index: 1;
        }

        .special-image model-viewer {
            width: 100%;
            height: 300px;
            background: transparent;
        }

        .special-text {
            width: 45%;
            z-index: 0;
        }

        .special-text h2 {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #333;
        }

        .special-text p {
            font-size: 1rem;
            color: #555;
        }

        /* Cart-specific styles */
        .cart-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .cart-icon {
            font-size: 2rem;
            cursor: pointer;
            position: relative;
        }

        .cart-count {
            position: absolute;
            top: -10px;
            right: -10px;
            background: red;
            color: white;
            border-radius: 50%;
            padding: 5px 10px;
            font-size: 0.8rem;
        }

        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100%;
            background: #fff;
            box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);
            transition: right 0.3s ease;
            padding: 20px;
            overflow-y: auto;
        }

        .cart-sidebar.active {
            right: 0;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            border-bottom: 1px solid #eee;
        }

        .cart-item h4 {
            margin: 0;
            font-size: 1.2rem;
            color: #333;
        }

        .cart-item small {
            color: #777;
        }

        .cart-item p {
            margin: 0;
            font-size: 1rem;
            font-weight: 600;
            color: #333;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cart-item-controls button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
        }

        .cart-item-controls button:hover {
            background: #388E3C;
        }

        /* Modal Styling */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background:  #FF7F7F;
            padding: 20px;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            position: relative;
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #333;
        }

        .close-btn:hover {
            color: #FFA726;
        }

        .modal-title {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #333;
        }

        .modal-dish {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .modal-dish model-viewer {
            width: 150px;
            height: 150px;
        }

        .dish-details {
            flex: 1;
        }

        .dish-info {
            margin-top: 10px;
        }

        .dish-info p {
            margin: 5px 0;
            color: #555;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .order-btn,
        .customize-btn,
        .save-customization {
            padding: 10px 20px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }

        .order-btn:hover,
        .customize-btn:hover,
        .save-customization:hover {
            background: #388E3C;
        }

        /* Customization Section Styling */
        .customize-section {
            display: none;
            margin-top: 20px;
            background:  #FF7F7F;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #ddd;
        }

        .customize-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .option label {
            min-width: 120px;
            font-weight: 600;
            color: #333;
        }

        .option input[type="checkbox"] {
            margin: 0;
        }

        .option textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
            resize: vertical;
        }

        .customize-close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #333;
        }

        .customize-close-btn:hover {
            color: #FFA726;
        }
    </style>
</head>

<body>
    <div class="cart-container">
        <div class="cart-icon" onclick="toggleCart()">
            ðŸ›’
            <div class="cart-count" id="cartCount">0</div>
        </div>
    </div>

    <div class="cart-sidebar" id="cartSidebar">
        <h2>Your Cart</h2>
        <div id="cartItems"></div>
        <p>Total: â‚¹<span id="cartTotal">0</span></p>
        <button onclick="checkout()">Checkout</button>
    </div>

    <div class="indian-menu-container">
        <div class="menu-container">
            <!-- Hero Section -->
            <section class="hero-section">
                <div>
                    <h1>South Indian Delicacies</h1>
                    <p>
                        Our dishes are crafted with fresh ingredients, rich flavors, and authentic techniques.
                        From crispy dosas to flavorful curries, every dish is a celebration of South Indian culinary
                        art.
                    </p>
                </div>
                <div class="hero-image">
                    <img src="https://i.pinimg.com/736x/b1/fa/20/b1fa200bc4c18e098d72d7187f1eb857.jpg" alt="Main Dish">
                </div>
            </section>

            <!-- Menu Cards Carousel -->
            <section class="menu-carousel">
                <button class="carousel-button prev" onclick="shiftDishes(-1)">&#10094;</button>
                <div class="carousel-track">
                    <!-- Dosa -->
                    <div class="card">
                        <model-viewer src="../assets/menu_images/3d_glb/dosa.glb" alt="3D Model" auto-rotate
                            camera-controls ar></model-viewer>
                        <h3>Dosa</h3>
                        <p>A crispy, golden-brown crepe made from fermented rice and lentil batter, served with chutney
                            and sambar.</p>
                        <button class="add-btn" data-modal="modal-dosa">+</button>
                    </div>

                    <!-- Idli -->
                    <div class="card">
                        <model-viewer src="../assets/menu_images/3d_glb/idli.glb" alt="3D Model" auto-rotate
                            camera-controls ar></model-viewer>
                        <h3>Idli</h3>
                        <p>Soft and fluffy steamed rice cakes, served with coconut chutney and sambar.</p>
                        <button class="add-btn" data-modal="modal-idli">+</button>
                    </div>

                    <!-- Vada -->
                    <div class="card">
                        <model-viewer src="../assets/menu_images/3d_glb/mendu_vada.glb" alt="3D Model" auto-rotate
                            camera-controls ar></model-viewer>
                        <h3>Vada</h3>
                        <p>Crispy, deep-fried lentil donuts, served with coconut chutney and sambar.</p>
                        <button class="add-btn" data-modal="modal-vada">+</button>
                    </div>

                    
                    <!-- Nellore Fish Curry -->
                    <div class="card">
                        <model-viewer src="../assets/menu_images/3d_glb/NelloreFishCurry.glb" alt="3D Model"
                            auto-rotate camera-controls ar></model-viewer>
                        <h3>Nellore Fish Curry</h3>
                        <p>A spicy and tangy fish curry from the coastal region of Nellore, made with tamarind and
                            spices.</p>
                        <button class="add-btn" data-modal="modal-nellore-fish-curry">+</button>
                    </div>

                    <!-- Elaneer Payasam -->
                    <div class="card">
                        <model-viewer src="../assets/menu_images/3d_glb/Elaneer Payasam.glb" alt="3D Model" auto-rotate
                            camera-controls ar></model-viewer>
                        <h3>Elaneer Payasam</h3>
                        <p>A creamy and refreshing dessert made with tender coconut, coconut milk, and jaggery.</p>
                        <button class="add-btn" data-modal="modal-elaneer-payasam">+</button>
                    </div>

                    <!-- Bisi Bele Bath -->
                    <div class="card">
                        <model-viewer src="../assets/menu_images/3d_glb/Bisibella.glb" alt="3D Model" auto-rotate
                            camera-controls ar></model-viewer>
                        <h3>Bisi Bele Bath</h3>
                        <p>A traditional Karnataka dish made with rice, lentils, vegetables, and a special spice blend.
                        </p>
                        <button class="add-btn" data-modal="modal-bisi-bele-bath">+</button>
                    </div>
                </div>
                <button class="carousel-button next" onclick="shiftDishes(1)">&#10095;</button>
            </section>

            <!-- Pagination Dots -->
            <div class="pagination-dots">
                <span class="dot active" onclick="goToDish(0)"></span>
                <span class="dot" onclick="goToDish(1)"></span>
                <span class="dot" onclick="goToDish(2)"></span>
                <span class="dot" onclick="goToDish(3)"></span>
                <span class="dot" onclick="goToDish(4)"></span>
                <span class="dot" onclick="goToDish(5)"></span>
                <span class="dot" onclick="goToDish(6)"></span>
                <span class="dot" onclick="goToDish(7)"></span>
                <span class="dot" onclick="goToDish(8)"></span>
            </div>

            <!-- Special Dish Section -->
            <section class="special-dish">
                <div class="special-image">
                    <model-viewer src="../assets/menu_images/3d_glb/special_dish.glb" alt="3D Model" auto-rotate
                        camera-controls ar></model-viewer>
                </div>
                <div class="special-text">
                    <h2>Our Culinary Secret</h2>
                    <p>
                        At our restaurant, we create authentic South Indian dishes using fresh ingredients, rich
                        flavors, and
                        traditional techniques. From crispy dosas to flavorful curries, every dish is crafted to
                        bring you the true taste of South India.
                    </p>
                </div>
            </section>

            <!-- Modals for each dish -->
            <!-- Dosa Modal -->
            <div class="modal" id="modal-dosa">
                <div class="modal-content">
                    <span class="close-btn">Ã—</span>
                    <h1 class="modal-title">You Made a Delicious Choice!</h1>
                    <div class="modal-dish">
                        <model-viewer src="../assets/menu_images/3d_glb/dosa.glb" alt="3D Model" auto-rotate
                            camera-controls ar></model-viewer>
                        <div class="dish-details">
                            <h3>Dosa</h3>
                            <p class="dish-description">A crispy, golden-brown crepe made from fermented rice and lentil
                                batter, served with chutney and sambar.</p>
                            <div class="dish-info">
                                <p><strong>Ingredients:</strong> Rice, Lentils, Oil, Chutney, Sambar</p>
                                <p><strong>Prep Time:</strong> 20 mins</p>
                                <p><strong>Serves:</strong> 1-2 people</p>
                                <p class="price"><strong>Price:</strong> 100</p>
                            </div>
                        </div>
                    </div>
                    <div class="modal-buttons">
                        <button class="order-btn">Place Order</button>
                        <button class="customize-btn">Customize Your Dish</button>
                    </div>
                    <div class="customize-section" id="customize-dosa">
                        <span class="customize-close-btn" onclick="closeCustomization('customize-dosa')">Ã—</span>
                        <h2>Customize Your Delight</h2>
                        <div class="customize-options">
                            <div class="option">
                                <label>Spice Level:</label>
                                <select>
                                    <option>Mild</option>
                                    <option>Medium</option>
                                    <option>Spicy</option>
                                    <option>Extra Spicy</option>
                                </select>
                            </div>
                            <div class="option">
                                <label>Add Extra:</label>
                                <div>
                                    <input type="checkbox" id="extraChutney"> <label for="extraChutney">Extra
                                        Chutney</label>
                                    <input type="checkbox" id="extraSambar"> <label for="extraSambar">Extra
                                        Sambar</label>
                                </div>
                            </div>
                            <div class="option">
                                <label>Remove:</label>
                                <div>
                                    <input type="checkbox" id="noChutney"> <label for="noChutney">No Chutney</label>
                                    <input type="checkbox" id="noSambar"> <label for="noSambar">No Sambar</label>
                                </div>
                            </div>
                            <div class="option">
                                <label>Special Notes:</label>
                                <textarea placeholder="E.g., Less oil, gluten-free..."></textarea>
                            </div>
                        </div>
                        <button class="save-customization">Save & Order</button>
                    </div>
                </div>
            </div>
            <!-- Dosa Modal Ends -->

            <!-- Idli Modal -->
            <div class="modal" id="modal-idli">
                <div class="modal-content">
                    <span class="close-btn">Ã—</span>
                    <h1 class="modal-title">You Made a Delicious Choice!</h1>
                    <div class="modal-dish">
                        <model-viewer src="../assets/menu_images/3d_glb/idli.glb" alt="3D Model" auto-rotate
                            camera-controls ar></model-viewer>
                        <div class="dish-details">
                            <h3>Idli</h3>
                            <p class="dish-description">Soft and fluffy steamed rice cakes, served with coconut chutney
                                and sambar.</p>
                            <div class="dish-info">
                                <p><strong>Ingredients:</strong> Rice, Lentils, Coconut Chutney, Sambar</p>
                                <p><strong>Prep Time:</strong> 15 mins</p>
                                <p><strong>Serves:</strong> 1-2 people</p>
                                <p class="price"><strong>Price:</strong> 80</p>
                            </div>
                        </div>
                    </div>
                    <div class="modal-buttons">
                        <button class="order-btn">Place Order</button>
                        <button class="customize-btn">Customize Your Dish</button>
                    </div>
                    <div class="customize-section" id="customize-idli">
                        <span class="customize-close-btn" onclick="closeCustomization('customize-idli')">Ã—</span>
                        <h2>Customize Your Delight</h2>
                        <div class="customize-options">
                            <div class="option">
                                <label>Spice Level:</label>
                                <select>
                                    <option>Mild</option>
                                    <option>Medium</option>
                                    <option>Spicy</option>
                                    <option>Extra Spicy</option>
                                </select>
                            </div>
                            <div class="option">
                                <label>Add Extra:</label>
                                <div>
                                    <input type="checkbox" id="extraChutney"> <label for="extraChutney">Extra
                                        Chutney</label>
                                    <input type="checkbox" id="extraSambar"> <label for="extraSambar">Extra
                                        Sambar</label>
                                </div>
                            </div>
                            <div class="option">
                                <label>Remove:</label>
                                <div>
                                    <input type="checkbox" id="noChutney"> <label for="noChutney">No Chutney</label>
                                    <input type="checkbox" id="noSambar"> <label for="noSambar">No Sambar</label>
                                </div>
                            </div>
                            <div class="option">
                                <label>Special Notes:</label>
                                <textarea placeholder="E.g., Less oil, gluten-free..."></textarea>
                            </div>
                        </div>
                        <button class="save-customization">Save & Order</button>
                    </div>
                </div>
            </div>
            <!-- Idli Modal Ends -->

            <!-- Vada Modal -->
            <div class="modal" id="modal-vada">
                <div class="modal-content">
                    <span class="close-btn">Ã—</span>
                    <h1 class="modal-title">You Made a Delicious Choice!</h1>
                    <div class="modal-dish">
                        <model-viewer src="../assets/menu_images/3d_glb/mendu_vada.glb" alt="3D Model" auto-rotate
                            camera-controls ar></model-viewer>
                        <div class="dish-details">
                            <h3>Vada</h3>
                            <p class="dish-description">Crispy, deep-fried lentil donuts, served with coconut chutney
                                and sambar.</p>
                            <div class="dish-info">
                                <p><strong>Ingredients:</strong> Lentils, Coconut Chutney, Sambar</p>
                                <p><strong>Prep Time:</strong> 20 mins</p>
                                <p><strong>Serves:</strong> 1-2 people</p>
                                <p class="price"><strong>Price:</strong> 90</p>
                            </div>
                        </div>
                    </div>
                    <div class="modal-buttons">
                        <button class="order-btn">Place Order</button>
                        <button class="customize-btn">Customize Your Dish</button>
                    </div>
                    <div class="customize-section" id="customize-vada">
                        <span class="customize-close-btn" onclick="closeCustomization('customize-vada')">Ã—</span>
                        <h2>Customize Your Delight</h2>
                        <div class="customize-options">
                            <div class="option">
                                <label>Spice Level:</label>
                                <select>
                                    <option>Mild</option>
                                    <option>Medium</option>
                                    <option>Spicy</option>
                                    <option>Extra Spicy</option>
                                </select>
                            </div>
                            <div class="option">
                                <label>Add Extra:</label>
                                <div>
                                    <input type="checkbox" id="extraChutney"> <label for="extraChutney">Extra
                                        Chutney</label>
                                    <input type="checkbox" id="extraSambar"> <label for="extraSambar">Extra
                                        Sambar</label>
                                </div>
                            </div>
                            <div class="option">
                                <label>Remove:</label>
                                <div>
                                    <input type="checkbox" id="noChutney"> <label for="noChutney">No Chutney</label>
                                    <input type="checkbox" id="noSambar"> <label for="noSambar">No Sambar</label>
                                </div>
                            </div>
                            <div class="option">
                                <label>Special Notes:</label>
                                <textarea placeholder="E.g., Less oil, gluten-free..."></textarea>
                            </div>
                        </div>
                        <button class="save-customization">Save & Order</button>
                    </div>
                </div>
            </div>
            <!-- Vada Modal Ends -->

            

           
            <!-- Nellore Fish Curry Modal -->
            <div class="modal" id="modal-nellore-fish-curry">
                <div class="modal-content">
                    <span class="close-btn">Ã—</span>
                    <h1 class="modal-title">You Made a Delicious Choice!</h1>
                    <div class="modal-dish">
                        <model-viewer src="../assets/menu_images/3d_glb/NelloreFishCurry.glb" alt="3D Model"
                            auto-rotate camera-controls ar></model-viewer>
                        <div class="dish-details">
                            <h3>Nellore Fish Curry</h3>
                            <p class="dish-description">A spicy and tangy fish curry from the coastal region of Nellore,
                                made with tamarind and spices.</p>
                            <div class="dish-info">
                                <p><strong>Ingredients:</strong> Fish, Tamarind, Spices, Curry Leaves, Mustard Seeds</p>
                                <p><strong>Prep Time:</strong> 40 mins</p>
                                <p><strong>Serves:</strong> 2-3 people</p>
                                <p class="price"><strong>Price:</strong> 300</p>
                            </div>
                        </div>
                    </div>
                    <div class="modal-buttons">
                        <button class="order-btn">Place Order</button>
                        <button class="customize-btn">Customize Your Dish</button>
                    </div>
                    <div class="customize-section" id="customize-nellore-fish-curry">
                        <span class="customize-close-btn"
                            onclick="closeCustomization('customize-nellore-fish-curry')">Ã—</span>
                        <h2>Customize Your Delight</h2>
                        <div class="customize-options">
                            <div class="option">
                                <label>Spice Level:</label>
                                <select>
                                    <option>Mild</option>
                                    <option>Medium</option>
                                    <option>Spicy</option>
                                    <option>Extra Spicy</option>
                                </select>
                            </div>
                            <div class="option">
                                <label>Add Extra:</label>
                                <div>
                                    <input type="checkbox" id="extraFish"> <label for="extraFish">Extra Fish</label>
                                    <input type="checkbox" id="extraTamarind"> <label for="extraTamarind">Extra
                                        Tamarind</label>
                                </div>
                            </div>
                            <div class="option">
                                <label>Remove:</label>
                                <div>
                                    <input type="checkbox" id="noFish"> <label for="noFish">No Fish</label>
                                    <input type="checkbox" id="noTamarind"> <label for="noTamarind">No Tamarind</label>
                                </div>
                            </div>
                            <div class="option">
                                <label>Special Notes:</label>
                                <textarea placeholder="E.g., Less oil, gluten-free..."></textarea>
                            </div>
                        </div>
                        <button class="save-customization">Save & Order</button>
                    </div>
                </div>
            </div>
            <!-- Nellore Fish Curry Modal Ends -->

            <!-- Elaneer Payasam Modal -->
            <div class="modal" id="modal-elaneer-payasam">
                <div class="modal-content">
                    <span class="close-btn">Ã—</span>
                    <h1 class="modal-title">You Made a Delicious Choice!</h1>
                    <div class="modal-dish">
                        <model-viewer src="../assets/menu_images/3d_glb/Elaneer Payasam.glb" alt="3D Model" auto-rotate
                            camera-controls ar></model-viewer>
                        <div class="dish-details">
                            <h3>Elaneer Payasam</h3>
                            <p class="dish-description">A creamy and refreshing dessert made with tender coconut,
                                coconut milk, and jaggery.</p>
                            <div class="dish-info">
                                <p><strong>Ingredients:</strong> Tender Coconut, Coconut Milk, Jaggery, Cardamom</p>
                                <p><strong>Prep Time:</strong> 25 mins</p>
                                <p><strong>Serves:</strong> 4-6 people</p>
                                <p class="price"><strong>Price:</strong> 100</p>
                            </div>
                        </div>
                    </div>
                    <div class="modal-buttons">
                        <button class="order-btn">Place Order</button>
                        <button class="customize-btn">Customize Your Dish</button>
                    </div>
                    <div class="customize-section" id="customize-elaneer-payasam">
                        <span class="customize-close-btn"
                            onclick="closeCustomization('customize-elaneer-payasam')">Ã—</span>
                        <h2>Customize Your Delight</h2>
                        <div class="customize-options">
                            <div class="option">
                                <label>Sweetness Level:</label>
                                <select>
                                    <option>Mild</option>
                                    <option>Medium</option>
                                    <option>Sweet</option>
                                    <option>Extra Sweet</option>
                                </select>
                            </div>
                            <div class="option">
                                <label>Add Extra:</label>
                                <div>
                                    <input type="checkbox" id="extraCoconut"> <label for="extraCoconut">Extra
                                        Coconut</label>
                                    <input type="checkbox" id="extraJaggery"> <label for="extraJaggery">Extra
                                        Jaggery</label>
                                </div>
                            </div>
                            <div class="option">
                                <label>Remove:</label>
                                <div>
                                    <input type="checkbox" id="noCoconut"> <label for="noCoconut">No Coconut</label>
                                    <input type="checkbox" id="noJaggery"> <label for="noJaggery">No Jaggery</label>
                                </div>
                            </div>
                            <div class="option">
                                <label>Special Notes:</label>
                                <textarea placeholder="E.g., Less sugar, gluten-free..."></textarea>
                            </div>
                        </div>
                        <button class="save-customization">Save & Order</button>
                    </div>
                </div>
            </div>
            <!-- Elaneer Payasam Modal Ends -->

            <!-- Bisi Bele Bath Modal -->
            <div class="modal" id="modal-bisi-bele-bath">
                <div class="modal-content">
                    <span class="close-btn">Ã—</span>
                    <h1 class="modal-title">You Made a Delicious Choice!</h1>
                    <div class="modal-dish">
                        <model-viewer src="../assets/menu_images/3d_glb/Bisibella.glb" alt="3D Model" auto-rotate
                            camera-controls ar></model-viewer>
                        <div class="dish-details">
                            <h3>Bisi Bele Bath</h3>
                            <p class="dish-description">A traditional Karnataka dish made with rice, lentils,
                                vegetables, and a special spice blend.</p>
                            <div class="dish-info">
                                <p><strong>Ingredients:</strong> Rice, Lentils, Vegetables, Spices, Ghee</p>
                                <p><strong>Prep Time:</strong> 45 mins</p>
                                <p><strong>Serves:</strong> 2-3 people</p>
                                <p class="price"><strong>Price:</strong> 150</p>
                            </div>
                        </div>
                    </div>
                    <div class="modal-buttons">
                        <button class="order-btn">Place Order</button>
                        <button class="customize-btn">Customize Your Dish</button>
                    </div>
                    <div class="customize-section" id="customize-bisi-bele-bath">
                        <span class="customize-close-btn"
                            onclick="closeCustomization('customize-bisi-bele-bath')">Ã—</span>
                        <h2>Customize Your Delight</h2>
                        <div class="customize-options">
                            <div class="option">
                                <label>Spice Level:</label>
                                <select>
                                    <option>Mild</option>
                                    <option>Medium</option>
                                    <option>Spicy</option>
                                    <option>Extra Spicy</option>
                                </select>
                            </div>
                            <div class="option">
                                <label>Add Extra:</label>
                                <div>
                                    <input type="checkbox" id="extraGhee"> <label for="extraGhee">Extra Ghee</label>
                                    <input type="checkbox" id="extraVegetables"> <label for="extraVegetables">Extra
                                        Vegetables</label>
                                </div>
                            </div>
                            <div class="option">
                                <label>Remove:</label>
                                <div>
                                    <input type="checkbox" id="noGhee"> <label for="noGhee">No Ghee</label>
                                    <input type="checkbox" id="noVegetables"> <label for="noVegetables">No
                                        Vegetables</label>
                                </div>
                            </div>
                            <div class="option">
                                <label>Special Notes:</label>
                                <textarea placeholder="E.g., Less oil, gluten-free..."></textarea>
                            </div>
                        </div>
                        <button class="save-customization">Save & Order</button>
                    </div>
                </div>
            </div>
            <!-- Bisi Bele Bath Modal Ends -->
        </div>
    </div>

    <script>
        // Initialize EmailJS
        (function () {
            emailjs.init('uqI2tRF7CahmHk8q1'); // Replace with your EmailJS public key
        })();

        // JavaScript for Carousel Functionality
        let currentIndex = 0;
        const carouselTrack = document.querySelector('.carousel-track');
        const cards = document.querySelectorAll('.card');
        const cardWidth = cards[0].offsetWidth + 20; // Card width + margin
        const dots = document.querySelectorAll('.dot');

        function shiftDishes(direction) {
            currentIndex = (currentIndex + direction + cards.length) % cards.length;
            const offset = -currentIndex * (cardWidth + 20); // Account for gap
            carouselTrack.style.transform = `translateX(${offset}px)`;
            updateDots();
        }

        function goToDish(index) {
            currentIndex = index;
            const offset = -currentIndex * (cardWidth + 20); // Account for gap
            carouselTrack.style.transform = `translateX(${offset}px)`;
            updateDots();
        }

        function updateDots() {
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentIndex);
            });
        }

        // Cart Functionality
        let cart = [];
        const menuContainer = document.querySelector('.menu-container');

        function toggleCart() {
            const cartSidebar = document.getElementById('cartSidebar');
            const carouselButtons = document.querySelectorAll('.carousel-button');

            cartSidebar.classList.toggle('active');

            // Toggle visibility of carousel buttons
            carouselButtons.forEach(button => {
                button.style.display = cartSidebar.classList.contains('active') ? 'none' : 'block';
            });

            updateCartDisplay();
        }

        function addToCart(item) {
            const existingItem = cart.find(cartItem =>
                cartItem.name === item.name &&
                JSON.stringify(cartItem.customizations) === JSON.stringify(item.customizations)
            );

            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ ...item, quantity: 1 });
            }
            updateCartDisplay();
        }

        function updateCartDisplay() {
            const cartCount = document.getElementById('cartCount');
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');

            cartCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);

            cartItems.innerHTML = cart.map((item, index) => `
                <div class="cart-item">
                    <div>
                        <h4>${item.name}</h4>
                        ${item.customizations ? `<small>${formatCustomizations(item.customizations)}</small>` : ''}
                        <p>â‚¹${item.price * item.quantity}</p>
                    </div>
                    <div class="cart-item-controls">
                        <button onclick="updateQuantity(${index}, ${item.quantity - 1})">-</button>
                        <span>${item.quantity}</span>
                        <button onclick="updateQuantity(${index}, ${item.quantity + 1})">+</button>
                        <button onclick="removeItem(${index})">Ã—</button>
                    </div>
                </div>
            `).join('');

            cartTotal.textContent = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        }

        function formatCustomizations(customizations) {
            return Object.entries(customizations).map(([key, value]) => {
                if (typeof value === 'boolean') return key.replace('extra', 'Extra ').replace('no', 'No ');
                return `${key}: ${value}`;
            }).join(', ');
        }

        function updateQuantity(index, newQuantity) {
            if (newQuantity < 1) return removeItem(index);
            cart[index].quantity = newQuantity;
            updateCartDisplay();
        }

        function removeItem(index) {
            cart.splice(index, 1);
            updateCartDisplay();
        }

        function showOrderConfirmation() {
            const confirmation = document.createElement('div');
            confirmation.innerHTML = `
                <div class="order-confirmation">
                    <h2 style="color: #18fc03;">Order Placed Successfully!</h2>
                    <p>Your delicious dish is on its way!</p>
                </div>
            `;
            confirmation.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 2000;
                animation: fadeIn 0.5s ease-in-out;
            `;
            confirmation.querySelector('.order-confirmation').style.cssText = `
                background: #fff;
                padding: 30px;
                border-radius: 20px;
                text-align: center;
                font-family: 'Poppins', sans-serif;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                transform: scale(0);
                animation: popIn 0.5s ease forwards;
            `;
            document.body.appendChild(confirmation);
            setTimeout(() => {
                confirmation.style.animation = 'fadeOut 0.5s ease-in-out';
                setTimeout(() => confirmation.remove(), 500);
            }, 2000);
        }

        function checkout() {
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }

            // Format cart details for email
            const orderDetails = cart.map(item =>
                `- ${item.name} (Qty: ${item.quantity}) - â‚¹${item.price * item.quantity}
         ${item.customizations ? 'Customizations: ' + formatCustomizations(item.customizations) : ''}`
            ).join('\n');

            const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

            const emailData = {
                to_email: "sujalbagde27@gmail.com",
                subject: "New Order Received!",
                message: `One new order needs to be ready!\n\nOrder Details:\n${orderDetails}\n\nTotal: â‚¹${totalAmount}`
            };

            // Send email using EmailJS
            emailjs.send('service_it3bbw2', 'template_1eu97dw', emailData)
                .then(() => {
                    showOrderConfirmation();
                    cart = [];
                    updateCartDisplay();
                    document.getElementById('cartSidebar').classList.remove('active');
                })
                .catch((error) => {
                    alert('Failed to send order. Please try again.');
                    console.error('Email failed:', error);
                });
        }

        function handleOrderButtonClick(modal) {
            const dishName = modal.querySelector('h3').textContent;
            const priceText = modal.querySelector('.price').textContent;
            const price = parseInt(priceText.replace(/\D/g, ''));

            const customizations = {};
            const customizeSection = modal.querySelector('.customize-section');

            if (customizeSection.style.display === 'block') {
                // Handle select inputs
                customizeSection.querySelectorAll('select').forEach(select => {
                    const label = select.previousElementSibling.textContent.trim().replace(':', '');
                    customizations[label] = select.value;
                });

                // Handle checkboxes
                customizeSection.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                    if (checkbox.checked) {
                        const label = checkbox.parentElement.textContent.trim().replace(':', '');
                        customizations[checkbox.id] = true;
                    }
                });

                // Handle textarea
                const textarea = customizeSection.querySelector('textarea');
                if (textarea.value.trim()) {
                    customizations.notes = textarea.value.trim();
                }
            }

            addToCart({
                name: dishName,
                price: price,
                customizations: Object.keys(customizations).length > 0 ? customizations : null
            });

            modal.style.display = 'none';
            modal.querySelector('.customize-section').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function closeCustomization(customizeSectionId) {
            const customizeSection = document.getElementById(customizeSectionId);
            customizeSection.style.display = 'none';
            const modal = customizeSection.closest('.modal');
            modal.querySelector('.customize-btn').style.display = 'block';
            modal.querySelector('.order-btn').style.display = 'block';
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Update add button event listeners
            document.querySelectorAll('.add-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const modalId = e.target.dataset.modal;
                    const modal = document.getElementById(modalId);

                    // Reset customization section
                    modal.querySelector('.customize-section').style.display = 'none';
                    modal.querySelector('.customize-btn').style.display = 'block';
                    modal.querySelector('.order-btn').style.display = 'block';

                    // Add fresh event listeners for modal buttons
                    modal.querySelector('.close-btn').onclick = () => {
                        modal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    };

                    modal.querySelector('.customize-btn').onclick = () => {
                        modal.querySelector('.customize-section').style.display = 'block';
                        modal.querySelector('.customize-btn').style.display = 'none';
                        modal.querySelector('.order-btn').style.display = 'none';
                    };

                    modal.querySelector('.order-btn').onclick = () => handleOrderButtonClick(modal);
                    modal.querySelector('.save-customization').onclick = () => handleOrderButtonClick(modal);

                    modal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                });
            });
        });

        // Additional animation keyframes
        const styleSheet = document.createElement('style');
        styleSheet.textContent = `
        @keyframes popIn {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }
        @keyframes fadeOut {
            from { opacity: 1); }
            to { opacity: 0); }
        }
    `;
        document.head.appendChild(styleSheet);
    </script>
</body>
<script src="/venders/script.js"></script>

</html>